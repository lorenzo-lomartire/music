<!doctype html>
<html lang='en'>
	<head>
		<title>Music</title>
		<meta charset='UTF-8'>
		<meta name='description' content='Lorenzo Lomartire — Music'>
		<style>
			* {
				margin: 0;
			}
			body {
				height: 100vh;
			}
			main {
				height: inherit;
				display: flex;
				justify-content: space-around;
				align-items: center;
			}
			img {
				height: inherit;
			}
			#next {
				transform: rotate(0.5turn);
			}
			.preload {
				display: none;
			}
		</style>
	</head>
	<body>
		<main>
			<button id='prev'>&#11013;</button>
			<img id='main' src='./resources/т-30(Б)_0088.png' alt='music'>
			<button id='next'>&#11013;</button>
			<img id='preload-prev' class='preload' src='./resources/т-30(Б)_0088.png'></div>
			<img id='preload-next' class='preload' src='./resources/т-30(Б)_0089.png'></div>
		</main>
		<script>
			import('./resources/index.json', {
				assert: {
					type: 'json'
				}
			}).then((data) => {
				const path = data.default["Tchaikovsky"]["data"]["data"]["data"]["data"]["data"];
				console.log(path.length);
				var current = 88;
				var min = 88
				var max = 96
				document.getElementById('prev').onclick = () => turn(0);
				document.getElementById('next').onclick = () => turn(1);
				function turn(direction) {
					document.getElementById('main').src = './resources/т-30(Б)_00' + ( direction ? ( current + 1 > max ? max : ++current ) : ( current - 1 < min ? min : --current ) ) + '.png';
					if (current > min) document.getElementById('preload-prev').src = './resources/т-30(Б)_00' + ( current - 1 ) + '.png';
					if (current < max) document.getElementById('preload-next').src = './resources/т-30(Б)_00' + ( current + 1 ) + '.png';
				}
			});
		</script>
	</body>
</html>
